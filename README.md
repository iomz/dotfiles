![Linux](https://img.shields.io/static/v1?style=for-the-badge&message=Linux&color=222222&logo=Linux&logoColor=FCC624&label=)
![macOS](https://img.shields.io/static/v1?style=for-the-badge&message=macOS&color=000000&logo=macOS&logoColor=FFFFFF&label=)
![Neovim](https://img.shields.io/static/v1?style=for-the-badge&message=Neovim&color=57A143&logo=Neovim&logoColor=FFFFFF&label=)
![Zsh](https://img.shields.io/static/v1?style=for-the-badge&message=Zsh&color=999999&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWEAAAFMCAMAAAAtE/0NAAADAFBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADyXSj/XCzzWyTyXCXxWyXyWyTxWiTyWyXyWyTzWiTyXCb/urrzWyXyWiTxWybyWiXxWiTyWiTyWyXzXSfzWyXxWiT/ZTXyXCXyWyTyWiTyWyX2XSf1WyfyWiTyWyX0YCvxWyXzXCXyWiTyWiT/gED1Yif/Xy/xWiTzXCb0YinxWiXzWiXyWyX/gCvyWiXyWiTyWyXxWiXyWiXzXCX1XCnyWyTxWiTxWyX3YCj0WiXzXSTyWyX/XyXyWyXxWyX/qlXyWyXyWyXyWiX/YTDxWyTzWibyWyT1XCnxWyXzXCfyYybyWiTyWiT/aivyXyjxWiTxWiTzXibyWiTyWyX0XCbyWyXyWiT0XCXyWiXxWybxWiX3WynyWiX4XSbyWiTyXCb0XCfyWyTyWyXyWiX/ZjPyWybzWiXyWiTyWiTxWyT/cTnyWyTxWyXyWiT1XiTyWyTyWiTyWyXyXCb0WibxWyXzWiUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABeyctuAAABAHRSTlMABSdOdpyuu8rV4err6dzQxLepimQ+FRdXmtj7/++9fDoEOZHybBMhfvqxUwdIwP4YAVHM95QdUCK18APONyzIDKXW5JcCq0kJ7fmij2lBEXmN50cLJGa5/HXa0t/mDaA89V80kiYacGFShp9cIGBis/1FgoiJTUw5EVuLpb7LtJp/PAF8/l77/+mdK1WoB0vU/Z8cM/bJGPRT5toEGgrNWBbfkK0Gw2OHl/o3MvfivCAwP8INTs8DdOTXD5RmshnyQRNxYQwl7vEojaNHbXZZmZW7HusjsFAtxdDtBXlS0oX1CauCxzF4odiOQ7k+DinCMHguH2+EQ2OmVDHGcllCYM1FpwAAEGNJREFUeAHs2YNi7kgAxfFT225Pbeu7tW3bXG/XePs1J5N8yVzfnt8j/JMxIkhITEpOSU1Lz8jMyn6OcnLz8gsKi4pLSvEalJVXVFbxT1JdU1tXj1eooTGDBmkqaG7BK9Halksrae/o7MLL6u7ppfirLurDS+gfGGQcEnsxBFfDGZQQ2lP64GJklBLSWPM4oupqi1HCm5hENFOVlEh6ixIQQXGMEtX0EMKamaU4qE5COENzFDdtCGNqnuJqYRFx1VVT3C11IY7lGOVl1KwgUJ0Cv6yCegSYqmYIvU3Zz9LqGsNY74evoXkGas/f2NwamunHc5WwPdW5M5vJYLvwMzPHAHsb+weQ3x0eHZ8wQDN8zNLXSeHyOORffadn9NU+Casj+lmrGIEYFsvP6ediGxZTMfpYGoKF9Jdf0kcqvLoqaZe7Dx9ytXFCu014tNHuegX+5GaeVmNlMIzEaHN7h0DSUkCrWRhGaZN1D4lj8YFWW8ajJ20uHiHx1dImox7/0Z9hDfwRwpCPafMJ/uNTWmQ9Ihz5jBZni/jXIL1u7xGWfE6LcvyjmxZ3CE26Juh13o+/9dDrGhHIYRO9lvGX1l565K4gCvmCXktBx7l9RCM19Fjbxp9ybfUjksQ1ehzhDw2W+EOISnbpkY8/NNKjApFJX4weQ/hdBk0nI4hOXvhsecvoUQhx8GWvfc9bTo9liIsamjIBoIKmvXGIiyd6HAKopGkD4uQqRtNXQEKVThuvcZooAhJpaj+AuKml6WsgiaZ8iKMGms6AZE3Dr07XNzRUJSCFpk2Iq1yaHpFK0xbEVQFNdUijaQji6oGmb5FO0wzE1Xc0dWKOht5+iKtTmp4wT0MTxNkmTc3IpiEb4uyJplMVVmEVFhVWYRUWFX6/Ct9+/y774d02ai/86olZWFRYhUWFVViFRYVVWIVFhVVYVFiFVVhUWIVVuOnHd9lP77YNvdPpJVSFRYVV+B2jwiosKqzCKiwqrMIOVFhUWIVVWFRYhX/+lb27XGgkaaM4fu56XEIT5uBE8Ag6gu2O4O7u7s76NbzSlep0IJ2tDsunfX6X8E/aS+CXFH7x8tXrN2/fvQ8UWPhbhcEA/JDCVtGbD9SKS0qRW1mQLK+AMSlcWcUMoXAEOUSrSbKmFmakcMVrPlBXD0+RBtoaYzAhheM1zCIYsJBdIkmlCSakcHMLs2tFVlYblQBMSOH2j/TyCdl8plIOI1L4Cz11dOKhIio1FTAhhbuC9FZj4b7n3bT11MKIFP6JGULMUIZ7fi6mre4rjEjhb0zrbu1MWM1N35nWiEw/qmgL9cKMFP5CR9/PUIq66fgKt/53VAZgRgpbg9SGhqH1hqgF4NZKJQxDUriLWvAr0kaoJeEySuV7OwxJ4SZqY3AZDzFlAmmTH2hrmYIpKTxNbQZuNdRmoc3N07awCGNSeIlaAdyWqc0h5UUjbaEVmJPCrdSewy1MrRRK7A2VVfgghdeorcPtDbVhKBtUNuGHFH5JbRkuwx1MqYYyTWUrBj+kcAG17m2kFVKrgq0y5L5pNieFY/PU3sSgdVVTW8L/lU7QtrMLf6QwlunYm4XyvJiOAvc7+o5v8EsK7zOtZ/QFgIMvH+hosABUHFL5BN+ksHVEl1BP1THdVt3/81fwTwpjhTk0ngA4pTJmIQ9SGO/orRfAWZC281nkRQq/aKSXCwBdl7QVbyM/UhiLC8xuzwLig7R1dyJfUhjRQWZTfgVcvaXyEiL/wqit4QPBQgDWNZUbiMcURsXAPDPdFgDADZVrCyLPwtqLzw10BG/PMt4Lvb2CyL+wZnVevEsWX7Yclo/WZg4+GRyHOSlsblsPPrmDeIrCP85pC+5DPEVha4zKLxBPUniJyq8QT1L4E5XDdthinWWrnws/rWzjHyGFJztoa2kGgP765Xmm9AUW8WhSePeYtoVSANgfoluoJILHkcLDv7kGn4x/533V03gMKRzborIKINrALMIVyJ8U/kJlA8BKN7P6nn9iKbxK5adYjnfHfI08SeGVEG2NL4DhRnr6BXmRwqULtB3PAWiltw9zyIMUntKDTyYB7HYwh2v4J4WdCaKjAFDOtMtfiyYr197SpRO+SeEwld/1CExtbxy23h06NuGXFF6j8s4CgCY6Niyk7BZTG4RPUng/SFvVD/zfa2rJGBx/0BGFL1L4a13m4JPfqK3A5U9qo/BDCo/rwSfPoUwwZceCywy1AHyQwlc1VF5CSVB7A7ev1DZgTgpb5VQukBKntge3XWrlMCeFb6i0WUg5CTLlFm7PqbXCmBRep5JMwFHMlI4fcDmltgZTUrizm7aGONKS1FaRdtJI7SUMSeFIMW2XUbj8Tm0nAkchHRGYkcKzR7QF6+H2Fx3ncaTMhKi9hRkpbI1ROUWG/h06Gor6ASASZlohzEjhV1SWcU8hXY7bWktuQ0yra4YRKTxD5bAC9yQamEMARqTwX+7BJ/eM0lvDLExI4d0d2iZKkUU5vXQUwEvMlPVvKDw8RFuoEtlcJenhE7x8pamif0Hh/j+pTCO7+BGzCZ5CCvta5+c9vCTa+FDdGbxJYbevPfy/NyfwZE3P857vB/AmhTPV1qjBJ7m8eNVNl6pe5CSFM1WUc34Of2O2frk4SJIdycBX5CaFHwj8ARPt250HUzCQ+GaqWfaU+S87dCwAAAAAMMjfeho7CiEMGzaMYcOGDRs2jGHDhjFs2LBhw4YxbNgwhg0bNmzYsGHDhg1j2LBhDBs2bNiwYQwbNoxhw4YNGzaMYcOGMWz4zbBhDBs2jOHauwuuNrIAiuMXd68gF0/wJaShim+bNlDBIbjDtji1bw1172pLkzdv8mYmyTkbmd8n4PzPO7nRh++PzN/zCwzk3HSOQuH0bDVtfca545w5SKubTkEo2zslOYWvnm8kU+H1JZqzNgNdqRcqPMMU+Aszd15DlvKsmz/c3E+awps07w4kp28qGUJu2TZEo8VBqeqSpHAtrZiDyP2wmgoj4z4E6clikOEbSVH4rYtWrF1GsOUSGqh8h4D3FHQmReE2WvMBQZp6aSj3Gs515FH0MQkKn7bSmgEEuEtoQo0bP/1GjQoIDqk1Fv+Ff6NF3Qh4SFN28NMTalRCkE6tzfgv/CmCwqd5NGXkfNFWqOGA4Dm1VpKw8BJ+maNJtfjhLjX8EHyg1uf4L3yPFg3hnHueJhWZLDwmF07CpfuCcxs07Ya5wm8SsTBu0pKClHBeqrxP5sJfXbTiGX7ppGkVyVwYT2mBaxrn3A6a1pnUhd0VNC8Lv0zTvKWkKiybyQtj5/CSMse8Z+D3YcqWk7swlh/eLHRojah3Dk4pb/o2/vP2josaX5OzsFr9kXLnUEbR8UX88gc1HtmFddyRd+4GAnYpKkGQGoru2YVlvmrVzslve64jyBWKvtiFZeuUtCPIK4r6EcR3TMGeXVj2TblzgIeiQQRbpGDGLizpp+QJghVR4HJD0f+hXViyqd454HcK1iAYsAtb37lZCOYpmIDgm13Y+s49VhYuhCDLfhyObOfkwkUQ7FJw3S5sdeeASgo8EDyk4Jpd2NrOSUsnFe7qZpBi2IWt7hyQoyyMZww4XrULG+/cFWgsqAundPKXN7ALG+7cRD00etWF4bvPH7pnYBc23rkP0MqmoBCShpXbxyM5z7ZhFzaxc81G57yqHjp6EGAXVu1cCSSdFN2Agl1YcEDJdUhmKTq0C0ewc0v1kKxQ5LELR75z6u9ZfLcLh71zx/umvrXZYheOYOdkHykp6bILh7dzadCxRVn+FbuwsQHdnZP5qGf3kpXCbEawxqQo3E/JU+gqoB5Hy6CFwt/6rgWcFCRF4avyzr2Drs/UV+BMURdWS/TCvlvUugl97QylcK/HLhzKH6qdE3XkMqTKcq9d2OzO3e5BCIdUWHhsF9bzVrFzkp4jqmRftAub2rlrCMk3QKW2M7uw8c4dQaGpkkr+Jyl2YaOdewGVax6qeZrtwlZ2TubbpdrE18gKT1CjOsF2rgVGyguo5NiIqPA8NaoSa+f812BotMJPldymSAp7qOVL+J2T9R9RJTOSwp3UuoS4dUjJS5hzcYChufojKHxErY2k2DlZ+zxDWomg8BC1/kyOnZOlOIcZQrU3/MIfqPU0WXZOdlo2Qn0b4Rfeo1Ym4pTPQa02WLT/WXkPnly4qvRBQIle4Q1qDXsTZ+fuwbKTReooDVW4HMHadAqfUvIV8SmbWrleWDeVQYHyG9quFARr0SmMCWrNJdfOyXb81MoN/7NmnYPtSZTfifu3EZ4/qdXqDr/we0rOEIemItg5yTNqjYZfuJ+SZ4hDnyLYOYm3lxpb4Rd251Er35eMO6e+TXMj/MIopWQHcec1JbUIX/0tiv6KoPCflCx1JMDOVRnvXNObkqLiihPo8FCUFkFhn4OSNwmwc5kw0PNwmP+5OQ3JEUXlERTGLiVr1+J/536DgQyec6RCJEfZi6TwI8oyE3/nnAyoPIVGI0WfIinszqVsPdF3rmuEQR5Ao4yimUgK4ztla2dxvnNdUEtnsOoeiJ5EtfBUPmU5y4m9cyXqT3Y+MEp3pCgu4s1KQby4QMkkDBQp70/B86ieYZzeoo5Sb/zu3KIXBnop2INonKLDcAsrr/C9X4+48JWSMajJt30Z/GJsL8LCvkXquelLlJ2TDah/rZhB0Z8RFkYadQ1cS9Cdk36Z22Lwmu5KpIVxRF3DL+Ny505g6JX6Hdvs6L3z89N+N3W5GgcR4zzyzrlhqIaCTYhyo/XupXQSZLe/JMDOyWaVjyv1rRRNR14YQwzl1cf42rnWy9b/jUcuBKnUaIpC4cF5hjTwOAUxyptHrbsw4bPyhpQDiroRhcJ4283Qhq/2eRGLNih5Gc7Rr1XeUFMYlcJoP6ZKdaazbxSxppyS9+4wPk5euoyAiy6KXkWnMB7SUN63ktKMq/+XUUiclLn0dBfev+JV/Oe0ojP85C6vpsZulAqjhbHtHSTvacFCg+LsV81nZZQ9qLjbWUDJ92gVxtXELsyRPfzUQCsmo1YYzxK7MP0f8cNlWnE5eoWx40rowpyYku/vMFSIKBbGn60JXZhv5GvIDe1GtTAuLiV04QX5f3oa+hLdwrg0m4CFpcfUM5rm8EW5MNy1/rgp7KRVG/INzwYyYLJwi6qwqK8oXgqX06pV9Q0pMv8WfiqlRqvRV7u/I5SeHUd8FN6gVdP4wZdLc1ZCv1xYMvpjThBa12dXPBT25tGa4R7lXVWypabQD/qdEJxSax8qb0uPY78wGmnNrvItcVlV0DG8YfSrok6KcmBga7c15gtfctAKf6rqmh+Za0/xTSHHJagfiB/C0PabnBgvjD1a8RxBptpowPEFwfq7lUcY7iwGW6iHGV8bJ2K6MGppXptXLDJTTZWsLYj+dDGg1A2t7UIG5DXDrH5nZnXsFkZ5Nc1xPeiBxmn6PEPovvsRkusOnmvsgazrW+AEy4FVvG/LW4Y8jpgsjNEnizTWnfkVeqbXx2eXGOz49kBpy71B6Om6c4sk/Vl10OU+9PBf884UhCOl6V1/w6P/S4dilE/+3FN63OCDwujZxqOX5X+2p530pV6uVzeo+/NgchShvTvZuzeNH/4GTYWU5WiZnQgAAAAASUVORK5CYII=&logoColor=FFFFFF&label=)

dotfiles powered by [chezmoi](https://www.chezmoi.io/)

---

<!--toc:start-->

- [Synopsis](#synopsis)
- [Notes](#notes)
  - [Zsh: order of executions](#zsh-order-of-executions)
  - [Zsh: diagnosing the slow start](#zsh-diagnosing-the-slow-start)
  - [Zsh: manage binaries with Zinit](#zsh-manage-binaries-with-zinit)
  <!--toc:end-->

## Synopsis

```console
sh -c "$(curl -fsLS get.chezmoi.io)" -- init --apply iomz
```

## Notes

### Zsh: order of executions

The setup loads in the order of

```
$HOME/.zshenv → $HOME/.config/zsh/.zshrc → $ZDOTDIR/rc.d/**
```

while the default is

```
.zshenv → .zprofile → .zshrc → .zlogin → .zlogout
```

1. `.zshenv` is always sourced.
   It often contains exported variables that should be available to other programs.
   For example, `$PATH`, `$EDITOR`, and `$PAGER` are often set in `.zshenv`.
   Also, you can set `$ZDOTDIR` in `.zshenv` to specify an alternative location for the rest of your zsh configuration.
2. `.zprofile` is for login shells.
   It is basically the same as `.zlogin` except that it's sourced before `.zshrc` whereas `.zlogin` is sourced after `.zshrc`.
   According to the zsh documentation, "`.zprofile` is meant as an alternative to `.zlogin` for ksh fans; the two are not intended to be used together, although this could certainly be done if desired."
3. `.zshrc` is for interactive shells.
   You set options for the interactive shell there with the setopt and unsetopt commands.
   You can also load shell modules, set your history options, change your prompt, set up zle and completion, et cetera.
   You also set any variables that are only used in the interactive shell (e.g. `$LS_COLORS`).
4. `.zlogin` is for login shells.
   It is sourced on the start of a login shell but after `.zshrc`, if the shell is also interactive.
   This file is often used to start X using startx.
   Some systems start X on boot, so this file is not always very useful.
5. `.zlogout` is sometimes used to clear and reset the terminal.
   It is called when exiting, not when opening.

`~/.profile` is only loaded when running zsh in sh compatibility mode, otherwise it reads `.zprofile`, as well as `.zshrc` for interactive and `.zlogin` for login shells.

cf. [What should/shouldn't go in .zshenv, .zshrc, .zlogin, .zprofile, .zlogout?](https://unix.stackexchange.com/questions/71253/what-should-shouldnt-go-in-zshenv-zshrc-zlogin-zprofile-zlogout)

### Zsh: diagnosing the slow start

Sometimes there are "bugs" hard to identify during the startup process, and they might cause inconsistent behaviors that are hard to be logged.

In addition to the `$ZPROF` environmental value set before starting zsh, also make use of `${ENABLE_ZPROFTIME}`.

When you start zsh with `${ENABLE_ZPROFTIME}`, it writes out a log to `/tmp/zproftime.XXXX` and can be examined with the autoloaded function (for example):

```console
zproftime-sort /tmp/zproftime.* | head
```

cf. [How to profile your zsh startup time by Benjamin Esham](https://esham.io/2018/02/zsh-profiling)

### Zsh: manage binaries with zinit and z-a-linkbin

[Zinit](https://github.com/zdharma-continuum/zinit) automatically downloads some binaries and creates links in `$ZPFX/bin` (i.e., `~/.local/share/zinit/polaris/bin`) with the [zinit-annex-binary-symlink](https://github.com/zdharma-continuum/zinit-annex-binary-symlink).

See the section `# GitHub binaries` in https://github.com/iomz/dotfiles/blob/main/dot_config/zsh/rc.d/04-zinit.zsh
